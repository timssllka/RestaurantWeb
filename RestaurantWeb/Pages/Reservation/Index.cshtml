@page
@model RestaurantWeb.Views.Reservation.IndexModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    Layout = "_Layout"; // Указывает на макет
    ViewData["Title"] = "Бронирование";
}



<div class="container py-5">
    <h1 class="mb-4">Бронирование столиков</h1>

    @if (!string.IsNullOrEmpty(Model.SuccessMessage))
    {
        <div class="alert alert-success">@Model.SuccessMessage</div>
    }
    @if (!string.IsNullOrEmpty(Model.ErrorMessage))
    {
        <div class="alert alert-danger">@Model.ErrorMessage</div>
    }

    <form method="post" novalidate>
        @Html.AntiForgeryToken()
        <div class="mb-3">
            <label asp-for="ReservationTime" class="form-label">Дата и время</label>
            <input name="ReservationTime" type="datetime-local" class="form-control" />
            <span asp-validation-for="ReservationTime" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="GuestsNumber" class="form-label">Количество гостей</label>
            <input name="GuestsNumber" type="number" min="1" max="20" class="form-control" />
            <span asp-validation-for="GuestsNumber" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="TableId" class="form-label">Выберите стол</label>
            <select name="TableId" class="form-select" required>
                <option value="">-- Выберите стол --</option>
                @foreach (var table in Model.AvailableTables)
                {
                    <option value="@table.TableId">Стол №@table.TableId (вместимость: @table.Capacity)</option>
                }
            </select>
            <span asp-validation-for="TableId" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="SpecialRequests" class="form-label">Особые пожелания (необязательно)</label>
            <textarea name="SpecialRequests" class="form-control" rows="3"></textarea>
            <span asp-validation-for="SpecialRequests" class="text-danger"></span>
        </div>

        <button type="submit" class="btn btn-primary">Забронировать</button>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" model="null"/>
}